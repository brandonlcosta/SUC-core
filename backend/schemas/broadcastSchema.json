{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://hype.os/schemas/broadcast.schema.json",
  "title": "Broadcast Bundle Schema",
  "type": "object",
  "properties": {
    "leaderboard": {
      "type": ["object", "null"]
    },
    "stories": {
      "type": "array",
      "items": { "type": "object" }
    },
    "commentary": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["event_id", "role", "line", "highlight_priority", "feed", "timestamp"],
        "properties": {
          "event_id": { "type": "string" },
          "role": { "type": "string", "enum": ["play_by_play", "analyst", "color", "wildcard"] },
          "line": { "type": "string" },
          "highlight_priority": { "type": "number", "minimum": 0, "maximum": 10 },
          "sponsor_slot": { "type": ["string", "null"] },
          "feed": { "type": "string", "enum": ["turfWars", "raw", "analyst", "meme", "sponsor"] },
          "timestamp": { "type": "number" }
        },
        "additionalProperties": false
      }
    },
    "timestamp": { "type": "number" }
  },
  "required": ["leaderboard", "stories", "commentary", "timestamp"],
  "additionalProperties": false
}
